# üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ª–æ–≥–æ–≤ Investment Data Stream Service

## üèóÔ∏è –ü–æ–ª–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π

```
logs/
‚îú‚îÄ‚îÄ current/                                    # DEFAULT (dev) - —Ç–µ–∫—É—â–∏–µ –ª–æ–≥–∏
‚îÇ   ‚îú‚îÄ‚îÄ investment-data-stream-service.log     # –û—Å–Ω–æ–≤–Ω—ã–µ –ª–æ–≥–∏
‚îÇ   ‚îî‚îÄ‚îÄ errors.log                             # –¢–æ–ª—å–∫–æ –æ—à–∏–±–∫–∏
‚îú‚îÄ‚îÄ archive/                                    # DEFAULT (dev) - –∞—Ä—Ö–∏–≤–Ω—ã–µ –ª–æ–≥–∏ (15 –¥–Ω–µ–π)
‚îÇ   ‚îú‚îÄ‚îÄ investment-data-stream-service.2024-01-15.0.log
‚îÇ   ‚îî‚îÄ‚îÄ errors.2024-01-15.0.log
‚îú‚îÄ‚îÄ test/                                       # TEST –æ–∫—Ä—É–∂–µ–Ω–∏–µ
‚îÇ   ‚îú‚îÄ‚îÄ current/                                # –¢–µ–∫—É—â–∏–µ –ª–æ–≥–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ investment-data-stream-service-test.log
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ errors-test.log
‚îÇ   ‚îî‚îÄ‚îÄ archive/                                # –ê—Ä—Ö–∏–≤–Ω—ã–µ –ª–æ–≥–∏ (7 –¥–Ω–µ–π)
‚îÇ       ‚îú‚îÄ‚îÄ investment-data-stream-service-test.2024-01-15.0.log
‚îÇ       ‚îî‚îÄ‚îÄ errors-test.2024-01-15.0.log
‚îî‚îÄ‚îÄ prod/                                       # PROD –æ–∫—Ä—É–∂–µ–Ω–∏–µ
    ‚îú‚îÄ‚îÄ current/                                # –¢–µ–∫—É—â–∏–µ –ª–æ–≥–∏
    ‚îÇ   ‚îú‚îÄ‚îÄ investment-data-stream-service-prod.log
    ‚îÇ   ‚îú‚îÄ‚îÄ errors-prod.log
    ‚îÇ   ‚îî‚îÄ‚îÄ metrics-prod.log
    ‚îî‚îÄ‚îÄ archive/                                # –ê—Ä—Ö–∏–≤–Ω—ã–µ –ª–æ–≥–∏ (30 –¥–Ω–µ–π)
        ‚îú‚îÄ‚îÄ investment-data-stream-service-prod.2024-01-15.0.log
        ‚îú‚îÄ‚îÄ errors-prod.2024-01-15.0.log
        ‚îî‚îÄ‚îÄ metrics-prod.2024-01-15.0.log
```

## üìä –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è–º

| –û–∫—Ä—É–∂–µ–Ω–∏–µ | –¢–µ–∫—É—â–∏–µ —Ñ–∞–π–ª—ã | –ê—Ä—Ö–∏–≤–Ω—ã–µ —Ñ–∞–π–ª—ã | –ü–µ—Ä–∏–æ–¥ —Ö—Ä–∞–Ω–µ–Ω–∏—è | –†–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞ | –û—á–µ—Ä–µ–¥—å |
|-----------|---------------|----------------|-----------------|--------------|---------|
| **DEFAULT** | `current/` | `archive/` | 15 –¥–Ω–µ–π | 100MB | 1024 |
| **TEST** | `test/current/` | `test/archive/` | 7 –¥–Ω–µ–π | 50MB | 1024 |
| **PROD** | `prod/current/` | `prod/archive/` | 30 –¥–Ω–µ–π | 500MB | 2048 |

## üéØ –¢–∏–ø—ã –ª–æ–≥–æ–≤

### DEFAULT (dev)
- **–û—Å–Ω–æ–≤–Ω—ã–µ –ª–æ–≥–∏**: `logs/current/investment-data-stream-service.log`
- **–û—à–∏–±–∫–∏**: `logs/current/errors.log`
- **–ê—Ä—Ö–∏–≤**: `logs/archive/` (15 –¥–Ω–µ–π)

### TEST
- **–û—Å–Ω–æ–≤–Ω—ã–µ –ª–æ–≥–∏**: `logs/test/current/investment-data-stream-service-test.log`
- **–û—à–∏–±–∫–∏**: `logs/test/current/errors-test.log`
- **–ê—Ä—Ö–∏–≤**: `logs/test/archive/` (7 –¥–Ω–µ–π)

### PROD
- **–û—Å–Ω–æ–≤–Ω—ã–µ –ª–æ–≥–∏**: `logs/prod/current/investment-data-stream-service-prod.log`
- **–û—à–∏–±–∫–∏**: `logs/prod/current/errors-prod.log`
- **–ú–µ—Ç—Ä–∏–∫–∏**: `logs/prod/current/metrics-prod.log`
- **–ê—Ä—Ö–∏–≤**: `logs/prod/archive/` (30 –¥–Ω–µ–π)

## üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

**–§–∞–π–ª –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏**: `src/main/resources/logback-spring.xml`

**–ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏**:
- ‚úÖ –£–Ω–∏–∫–∞–ª—å–Ω—ã–µ appenders –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø—Ä–æ—Ñ–∏–ª—è
- ‚úÖ –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Ä–æ—Ç–∞—Ü–∏—è —Ñ–∞–π–ª–æ–≤
- ‚úÖ –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ —É—Ä–æ–≤–Ω—è–º –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –≤—Å–µ—Ö –æ–∫—Ä—É–∂–µ–Ω–∏–π

## üìà –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã
```bash
# –ü—Ä–æ—Å–º–æ—Ç—Ä —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ª–æ–≥–æ–≤
tree logs/

# –†–∞–∑–º–µ—Ä –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π
du -sh logs/*/

# –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ñ–∞–π–ª–æ–≤ –≤ –∞—Ä—Ö–∏–≤–∞—Ö
find logs -path "*/archive/*" -name "*.log" | wc -l
```

### –û—á–∏—Å—Ç–∫–∞ –∞—Ä—Ö–∏–≤–æ–≤
```bash
# –û—á–∏—Å—Ç–∫–∞ –∞—Ä—Ö–∏–≤–æ–≤ —Å—Ç–∞—Ä—à–µ 7 –¥–Ω–µ–π
find logs -path "*/archive/*" -name "*.log" -mtime +7 -delete

# –û—á–∏—Å—Ç–∫–∞ –∞—Ä—Ö–∏–≤–æ–≤ —Å—Ç–∞—Ä—à–µ 30 –¥–Ω–µ–π (—Ç–æ–ª—å–∫–æ –¥–ª—è prod)
find logs/prod/archive -name "*.log" -mtime +30 -delete
```

---
**–í–µ—Ä—Å–∏—è**: 1.1  
**–û–±–Ω–æ–≤–ª–µ–Ω–æ**: 2025-10-24  
**–°—Ç–∞—Ç—É—Å**: ‚úÖ –í—Å–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ —Å–æ–∑–¥–∞–Ω—ã, –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞
